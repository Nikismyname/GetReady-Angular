<div *ngIf="loaded && PRLoaded && firstQuestionLoaded">
    <div *ngIf="(currentQuestion$ | async) as question">
        <div class="section text-center">
            <h3>{{question.name}}</h3>
        </div>
        <div class="section question">
            <h1>Question</h1>
            <getready-text-visualisation-tblock
                [text]="question.question"
            ></getready-text-visualisation-tblock>
        </div>

        <div class="section">
            <h2>Your Answer</h2>
            <textarea 
                [(ngModel)]="userAnswer"
                class="form-control-black mb-4"
                autosize
                [minRows]="1"></textarea>
        </div>

        <div class="section " *ngIf="shouldShowComment">
            <h2>Comment</h2>
            <getready-text-visualisation-tblock
                [text]="question.comment"
            ></getready-text-visualisation-tblock>
        </div>

        <div *ngIf="shouldShowAnswer">
            <div class="section">
                <h2>Answer</h2>
                <getready-text-visualisation-tblock
                    [text]="question.answer"
                ></getready-text-visualisation-tblock>
            </div>
            <div class="section text-center">
                <h2>Rate Your Answer</h2>
                <rating [(ngModel)]="userRating"
                    [max]="10">
                </rating>
            </div>
        </div>

        <getready-buttons-renderer [data]="buttons"></getready-buttons-renderer>
    </div>
</div>

<getready-with-pretty-print
(PRLoaded)="onPrLoaded()"
></getready-with-pretty-print>